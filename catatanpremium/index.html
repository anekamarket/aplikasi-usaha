<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplikasi Catatan UMKM Pro</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Splash Screen -->
    <div id="splashScreen">
        <div class="particles" id="particles"></div>
        <div class="splash-logo"><i class="fas fa-book-open"></i></div>
        <h1 class="splash-title">Aplikasi Catatan UMKM Pro</h1>
        <p class="splash-subtitle">Manajemen Catatan dan Keuangan Profesional</p>
        <div class="splash-credits">
            Dibuat oleh <strong>Lentera Karya Situbondo</strong><br>
            Developer: <strong>www.aplikasiusaha.com</strong> | WhatsApp: <strong>085647709114</strong><br>
            <small>Versi 3.0.0 | Â© 2025</small>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <i class="fas fa-info-circle"></i>
        <span id="toast-message"></span>
    </div>

    <!-- Confirmation Dialog -->
    <div id="confirmationDialog" class="confirmation-dialog" style="display: none;">
        <div class="confirmation-content">
            <h4 id="confirmationMessage"></h4>
            <div class="confirmation-buttons">
                <button id="confirmCancel" class="btn btn-secondary">Batal</button>
                <button id="confirmOk" class="btn btn-danger">Ya</button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="login-container">
            <div class="login-logo"><i class="fas fa-book"></i></div>
            <h2 class="login-title">Masuk ke Aplikasi</h2>
            <form id="loginForm">
                <div class="form-floating">
                    <input type="text" id="username" placeholder="Username" required value="admin" readonly>
                    <label for="username">Username</label>
                </div>
                <div class="form-floating">
                    <input type="password" id="password" placeholder="Password" required value="admin123" readonly>
                    <label for="password">Password</label>
                </div>
                <div class="captcha-container">
                    <label>Verifikasi Captcha</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <div id="captchaBox" class="captcha-box"></div>
                        <button type="button" id="refreshCaptcha" class="btn btn-secondary btn-sm" title="Refresh"><i class="fas fa-sync-alt"></i></button>
                    </div>
                    <input type="text" id="captchaInput" class="form-control" placeholder="Masukkan captcha" required autocomplete="off" style="margin-top: 10px;">
                    <div class="error-message" id="captchaError"></div>
                </div>
                <button type="submit" class="btn btn-block" id="loginBtn">
                    <span id="loginBtnText">Login</span>
                </button>
            </form>
        </div>
    </div>

    <!-- Main App Container -->
    <div class="container" id="mainApp" style="display: none;">
        <div class="header">
            <div>
                <h1 id="appName">Aplikasi Catatan UMKM Pro</h1>
                <p id="businessName"></p>
            </div>
            <div class="header-info">
                <p id="currentDate"></p>
                <p>Pengguna: <span id="loggedInUser"></span> | <a href="#" id="logoutBtn" style="color: white;">Logout</a></p>
            </div>
        </div>

        <div class="main-content">
            <!-- Left Panel: Tabs -->
            <div class="left-panel">
                <h2 class="panel-title"><i class="fas fa-bars"></i> Menu</h2>
                <div class="tabs">
                    <div class="tab active" data-tab="notes"><i class="fas fa-sticky-note"></i> Catatan</div>
                    <div class="tab" data-tab="debts"><i class="fas fa-hand-holding-usd"></i> Hutang Piutang</div>
                </div>

                <!-- Notes Tab -->
                <div class="tab-content active" id="notesTab">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="noteSearch" class="form-control" placeholder="Cari catatan...">
                    </div>
                    <div id="notesList"></div>
                    <button id="addNoteBtn" class="btn btn-success btn-block"><i class="fas fa-plus"></i> Tambah Catatan</button>
                </div>

                <!-- Debts Tab -->
                <div class="tab-content" id="debtsTab">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="debtSearch" class="form-control" placeholder="Cari hutang/piutang...">
                    </div>
                    <div id="debtsList"></div>
                    <button id="addDebtBtn" class="btn btn-success btn-block"><i class="fas fa-plus"></i> Tambah Hutang/Piutang</button>
                </div>
            </div>

            <!-- Right Panel: Summary -->
            <div class="right-panel">
                <h2 class="panel-title"><i class="fas fa-chart-pie"></i> Ringkasan</h2>
                <div class="report-summary">
                    <div class="report-card">
                        <div class="report-card-title">Total Catatan</div>
                        <div class="report-card-value" id="totalNotes">0</div>
                    </div>
                    <div class="report-card">
                        <div class="report-card-title">Hutang Belum Lunas</div>
                        <div class="report-card-value" id="totalDebts">Rp 0</div>
                    </div>
                    <div class="report-card">
                        <div class="report-card-title">Piutang Belum Lunas</div>
                        <div class="report-card-value" id="totalReceivables">Rp 0</div>
                    </div>
                </div>

                <h3 class="panel-title" style="margin-top: 1.5rem;"><i class="fas fa-clock"></i> Catatan Terbaru</h3>
                <div id="recentNotes"></div>
            </div>
        </div>
    </div>

    <!-- Note Modal -->
    <div id="noteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="noteModalTitle">Tambah Catatan</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="noteId">
                <div class="form-group">
                    <label for="noteTitle">Judul Catatan</label>
                    <input type="text" id="noteTitle" class="form-control" placeholder="Masukkan judul">
                </div>
                <div class="form-group">
                    <label for="noteContent">Isi Catatan</label>
                    <textarea id="noteContent" class="form-control" rows="5" placeholder="Masukkan isi"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary close-modal">Batal</button>
                <button class="btn btn-success" id="saveNoteBtn">Simpan</button>
            </div>
        </div>
    </div>

    <!-- Debt Modal -->
    <div id="debtModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="debtModalTitle">Tambah Hutang/Piutang</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="debtId">
                <div class="form-group">
                    <label for="debtType">Jenis</label>
                    <select id="debtType" class="form-control">
                        <option value="debt">Hutang (Saya berhutang)</option>
                        <option value="receivable">Piutang (Saya meminjamkan)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="debtPerson">Nama</label>
                    <input type="text" id="debtPerson" class="form-control" placeholder="Masukkan nama">
                </div>
                <div class="form-group">
                    <label for="debtAmount">Jumlah</label>
                    <input type="number" id="debtAmount" class="form-control" placeholder="Masukkan jumlah">
                </div>
                <div class="form-group">
                    <label for="debtDueDate">Tanggal Jatuh Tempo</label>
                    <input type="date" id="debtDueDate" class="form-control">
                </div>
                 <div class="form-group">
                    <label for="debtStatus">Status</label>
                    <select id="debtStatus" class="form-control">
                        <option value="unpaid">Belum Lunas</option>
                        <option value="paid">Lunas</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary close-modal">Batal</button>
                <button class="btn btn-success" id="saveDebtBtn">Simpan</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Pengaturan</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="businessNameSetting">Nama UMKM</label>
                    <input type="text" id="businessNameSetting" class="form-control" placeholder="Masukkan nama UMKM Anda">
                </div>
                <div class="data-backup">
                    <h4><i class="fas fa-database"></i> Backup & Restore</h4>
                    <div class="backup-actions">
                        <button id="backupDataBtn" class="btn btn-info"><i class="fas fa-download"></i> Backup Data</button>
                        <button id="restoreDataBtn" class="btn btn-warning"><i class="fas fa-upload"></i> Restore Data</button>
                        <input type="file" id="restoreFileInput" style="display: none;" accept=".prodata">
                    </div>
                </div>
                 <div class="data-backup">
                    <h4><i class="fas fa-trash-alt"></i> Hapus Data</h4>
                    <div class="backup-actions">
                        <button id="clearDataBtn" class="btn btn-danger"><i class="fas fa-exclamation-triangle"></i> Hapus Semua Data</button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary close-modal">Tutup</button>
                <button class="btn btn-success" id="saveSettingsBtn">Simpan Pengaturan</button>
            </div>
        </div>
    </div>

    <!-- Floating Action Button -->
    <div id="settingsBtn" class="fab" title="Pengaturan">
        <i class="fas fa-cog"></i>
    </div>

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <!-- Custom JS -->
    <script src="main.js"></script>
</body>
</html>
